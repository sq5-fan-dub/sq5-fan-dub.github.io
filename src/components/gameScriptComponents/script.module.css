/* Classes to have a set of buttons that are hidden unless the parent element is hovered */
*>.hover-reveal {
  display: inline-flex;
  cursor: pointer;
  align-items: center;
  vertical-align: middle;
  visibility: hidden;
}

*:hover>.hover-reveal {
  visibility: initial;
}

.section {
  border-left-width: 1px;
  border-left-style: dashed;
  border-left-color: transparent;
}

.section:hover {
  border-left-color: darkgray;
}

.section-body {
  padding-left: 1em;
  margin-top: 1em;
  margin-bottom: 1em;
}

.section-title {
  padding-left: 0.1em;
  font-size: 2em;
  font-weight: bold;
  font-family: Helvetica, sans-serif;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.section .section-title {
  font-size: 1.5em;
}

.section .section .section-title {
  font-size: 1.25em;
}

.section .section .section .section-title {
  font-size: 1.1em;
}

.material-symbols-outlined {
  font-variation-settings:
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 20
}

.button {
  display: inline-flex;
  opacity: 10%;
  cursor: pointer;
  margin-left: 0.2em;
  align-items: center;
  vertical-align: middle;

  user-select: none;
  -webkit-user-select: none;

  /* In order to allow for popups to be relative to the button */
  position: relative;
  left: 0px;
  top: 0px;
  contain: none;
}

/* The icon inside of the copy button */
.button .material-symbols-outlined {
  font-size: 1em;
}

.button:hover {
  opacity: 100%;
}

.popupLayer {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
}

.popupBox {
  position: absolute;
}

.popup {
  background-color: #333;
  color: #fff;
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 14px;
  z-index: 1000;
  transition: opacity 0.5s ease-out;
  opacity: 1;
  pointer-events: none;
}

.toc {
  section {
    margin-top: 0.5em;
    margin-bottom: 0.5em;

    header {
      width: 100%;
      text-align: center;
      text-transform: uppercase;
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }
  }

  menu {
    margin: 0.5em;
    padding: 0px;

    li {
      list-style: none;
      padding: 0.25em;
      padding-left: 1em;
      cursor: pointer;
      text-indent: -1em;

      &:hover {
        background-color: #f0f0f0;
      }
    }
  }

  .focusItem {
    padding: 0.5em;
  }
}

.script {
  display: block;

  & header {
    color: var(--ifm-heading-color);
    font-family: var(--ifm-heading-font-family);
    font-weight: var(--ifm-heading-font-weight);
    line-height: var(--ifm-heading-line-height);
    margin: 0px;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
  }

  .room {
    padding-left: 0.5em;

    >header {
      font-size: var(--ifm-h2-font-size);
    }
  }

  .noun {
    padding-left: 0.5em;
    border-left-width: 1px;

    >header {
      font-size: var(--ifm-h3-font-size);
    }
  }

  .convSet {
    display: grid;
    grid-template-columns: [verbStart] 7em [verbEnd condStart] 7em [condEnd convStart] max-content [convEnd];
    border: 1px solid var(--ifm-table-border-color);
    justify-content: left;
    justify-items: stretch;

    &+.convSet {
      border-top-width: 0px;
    }
  }

  .verb {
    position: sticky;
    top: 0;
    grid-column: verbStart / verbEnd;
    padding: 0.5em;
    border-right: 1px solid var(--ifm-table-border-color);
  }

  .cond {
    position: sticky;
    top: 0;
    grid-column: condStart / condEnd;
    padding: 0.5em;
    border-right: 1px solid var(--ifm-table-border-color);
  }

  .conv {
    grid-column: convStart / convEnd;
    display: grid;
    grid-template-columns: [speakerStart] 7em [speakerEnd lineTextStart] 1fr [lineTextEnd];
    padding: 0.5em;
    width: fit-content;

    .line {
      display: grid;
      grid-column: 1 / -1;
      grid-template-columns: subgrid;
      font-family: 'Courier New', monospace;
      margin-bottom: 0.25em;


      .speaker {
        font-weight: bold;
        text-transform: uppercase;
        grid-column: speakerStart / speakerEnd;
        justify-self: end;
      }

      .lineText {
        grid-column: lineTextStart / lineTextEnd;
        margin-left: 0.5em;
        max-width: 36em;
        hyphens: auto;

        b {
          text-transform: uppercase;
        }
      }


      &:hover {
        background-color: var(--ifm-hover-overlay);
      }
    }
  }
}

.scriptWindow {
  display: flex;
  flex-direction: row;
  justify-content: stretch;
  width: 100%;
}

.scriptSidebar {
  flex: 0 0 280px;
  position: relative;
  /* Create positioning context */
}

.scriptMain {
  flex: 1;
  display: block;
  /* Remove overflow-y property to ensure natural page flow */
}

.sideMenu {
  --header-height: 0px;
  position: sticky;
  /* Stick to the top of the viewport */
  top: 0;
  /* Limit height to viewport minus navbar */
  max-height: calc(100vh - var(--header-height));
  /* Show scrollbar in sidebar when content overflows */
  /* Space for scrollbar */
  padding-right: 10px;
  overflow-y: scroll;
}